<template name="page_conversations">
    <h2>Conversations</h2>

    <!--
    {{#each all_received_messages}}
        <blockquote>
        <p>
            {{text}}
        </p>
        <footer>
            {{sender.name}} (@{{sender_screen_name}})
        </footer>
        </blockquote>
    {{/each}}
-->

    <div class="select-entrepreneur">
        <h4>Select An Entrepreneur</h4>
        <select style="width: auto" id="entrepreneur-chooser">
            <option default value="">Select one...</option>
    	{{#each entrepreneurs}}
            <option value="{{twitter}}">{{name}}</option>
    	{{/each}}
        </select>
    </div>
    
    {{#if chosen}}
        <div class="panel panel-primary">
          <!-- Default panel contents -->
          <div class="panel-heading">
                <h2>Entrepreneur Profile for {{chosen.name}}</h2>
            </div>

          <!-- Table (I will also center and make headers larger)-->
          <table class="table table-striped">
              <tr>
                  <p class="bg-info">Contact Information</p>
              </tr>
              <tr>
                  {{chosen.phone}}
              </tr>
              <tr>
                  {{chosen.twitter}}
              </tr>
              <tr>
                  <p class="bg-info">Company Information</p>
              </tr>
              <tr>
                  <tr>Name: {{chosen.company}}</tr>
                  <tr>Location: {{chosen.location}}</tr>
                  <tr>Field: {{chosen.field}}</tr>
              </tr>
          </table>
        </div>

    {{/if}}

    {{#if chosen}}
        <div>
            <br>
            <h5>Your Conversation with {{chosen.name}}:</h5>

            <br>
            <div id="conversations-thread" style="overflow-y:auto; overflow-x:hidden; height:600px; width:auto">
                {{#each messagesConversation}}
                    {{#if received}}
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="well">
                                {{text}}
                            </div>
                        </div>
                    </div>
                    {{else}}
                    <div class="row">
                        <div class="col-xs-6 col-xs-push-5">
                            <div class="well">
                                {{text}}
                            </div>
                        </div>
                    </div>
                    {{/if}}
                {{/each}}
            </div>
        </div>
    {{/if}}
</template>
